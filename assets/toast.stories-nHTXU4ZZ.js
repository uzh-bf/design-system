import{r,_ as S,b as Oe,j as p}from"./index-IQZlS5KY.js";import{B as ce}from"./button-jb07iUOh.js";import{b as Fe,c as Y,$ as h,a as Me}from"./index-_FgKj8mU.js";import{$ as Le,b as de,a as N,d as ke}from"./index-03E93yg5.js";import{$ as je}from"./index-DXGOXezg.js";import{a as Ve,b as Ke}from"./index-BC0XCPbe.js";import{$ as Ue}from"./index-i9L27tDZ.js";import{$ as We}from"./index-D9uubFxz.js";import{a as ue}from"./index-CUQe5UgA.js";import{c as He}from"./index-Bb4qSo10.js";import{c as O}from"./utils-D7uag5n0.js";import{X as Xe}from"./x-JC1p8jDh.js";import"./index-DQSDpuZ0.js";import"./bundle-mjs-BkWO730n.js";import"./createLucideIcon-DZBQ25rj.js";const le="ToastProvider",[oe,Ye,Be]=je("Toast"),[pe,Lt]=Le("Toast",[Be]),[qe,B]=pe(le),fe=e=>{const{__scopeToast:t,label:o="Notification",duration:n=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[m,b]=r.useState(null),[a,y]=r.useState(0),x=r.useRef(!1),F=r.useRef(!1);return r.createElement(oe.Provider,{scope:t},r.createElement(qe,{scope:t,label:o,duration:n,swipeDirection:c,swipeThreshold:d,toastCount:a,viewport:m,onViewportChange:b,onToastAdd:r.useCallback(()=>y(_=>_+1),[]),onToastRemove:r.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:F},f))};fe.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${le}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const ze="ToastViewport",Ge=["F8"],ee="toast.viewportPause",te="toast.viewportResume",Qe=r.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:n=Ge,label:c="Notifications ({hotkey})",...d}=e,f=B(ze,o),m=Ye(o),b=r.useRef(null),a=r.useRef(null),y=r.useRef(null),x=r.useRef(null),F=de(t,x,f.onViewportChange),_=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=f.toastCount>0;r.useEffect(()=>{const i=E=>{var l;n.every($=>E[$]||E.code===$)&&((l=x.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[n]),r.useEffect(()=>{const i=b.current,E=x.current;if(R&&i&&E){const l=()=>{if(!f.isClosePausedRef.current){const w=new CustomEvent(ee);E.dispatchEvent(w),f.isClosePausedRef.current=!0}},v=()=>{if(f.isClosePausedRef.current){const w=new CustomEvent(te);E.dispatchEvent(w),f.isClosePausedRef.current=!1}},$=w=>{!i.contains(w.relatedTarget)&&v()},T=()=>{i.contains(document.activeElement)||v()};return i.addEventListener("focusin",l),i.addEventListener("focusout",$),i.addEventListener("pointermove",l),i.addEventListener("pointerleave",T),window.addEventListener("blur",l),window.addEventListener("focus",v),()=>{i.removeEventListener("focusin",l),i.removeEventListener("focusout",$),i.removeEventListener("pointermove",l),i.removeEventListener("pointerleave",T),window.removeEventListener("blur",l),window.removeEventListener("focus",v)}}},[R,f.isClosePausedRef]);const u=r.useCallback(({tabbingDirection:i})=>{const l=m().map(v=>{const $=v.ref.current,T=[$,...ft($)];return i==="forwards"?T:T.reverse()});return(i==="forwards"?l.reverse():l).flat()},[m]);return r.useEffect(()=>{const i=x.current;if(i){const E=l=>{const v=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!v){const M=document.activeElement,D=l.shiftKey;if(l.target===i&&D){var T;(T=a.current)===null||T===void 0||T.focus();return}const A=u({tabbingDirection:D?"backwards":"forwards"}),V=A.findIndex(s=>s===M);if(Q(A.slice(V+1)))l.preventDefault();else{var w,C;D?(w=a.current)===null||w===void 0||w.focus():(C=y.current)===null||C===void 0||C.focus()}}};return i.addEventListener("keydown",E),()=>i.removeEventListener("keydown",E)}},[m,u]),r.createElement(Ve,{ref:b,role:"region","aria-label":c.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:R?void 0:"none"}},R&&r.createElement(se,{ref:a,onFocusFromOutsideViewport:()=>{const i=u({tabbingDirection:"forwards"});Q(i)}}),r.createElement(oe.Slot,{scope:o},r.createElement(N.ol,S({tabIndex:-1},d,{ref:F}))),R&&r.createElement(se,{ref:y,onFocusFromOutsideViewport:()=>{const i=u({tabbingDirection:"backwards"});Q(i)}}))}),Je="ToastFocusProxy",se=r.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:n,...c}=e,d=B(Je,o);return r.createElement(ue,S({"aria-hidden":!0,tabIndex:0},c,{ref:t,style:{position:"fixed"},onFocus:f=>{var m;const b=f.relatedTarget;!((m=d.viewport)!==null&&m!==void 0&&m.contains(b))&&n()}}))}),q="Toast",Ze="toast.swipeStart",et="toast.swipeMove",tt="toast.swipeCancel",ot="toast.swipeEnd",rt=r.forwardRef((e,t)=>{const{forceMount:o,open:n,defaultOpen:c,onOpenChange:d,...f}=e,[m=!0,b]=Fe({prop:n,defaultProp:c,onChange:d});return r.createElement(We,{present:o||m},r.createElement(me,S({open:m},f,{ref:t,onClose:()=>b(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:h(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,a=>{const{x:y,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:h(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,a=>{const{x:y,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),b(!1)})})))}),[nt,st]=pe(q,{onClose(){}}),me=r.forwardRef((e,t)=>{const{__scopeToast:o,type:n="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:m,onPause:b,onResume:a,onSwipeStart:y,onSwipeMove:x,onSwipeCancel:F,onSwipeEnd:_,...R}=e,u=B(q,o),[i,E]=r.useState(null),l=de(t,s=>E(s)),v=r.useRef(null),$=r.useRef(null),T=c||u.duration,w=r.useRef(0),C=r.useRef(T),M=r.useRef(0),{onToastAdd:D,onToastRemove:z}=u,I=Y(()=>{var s;(i==null?void 0:i.contains(document.activeElement))&&((s=u.viewport)===null||s===void 0||s.focus()),f()}),A=r.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(I,s))},[I]);r.useEffect(()=>{const s=u.viewport;if(s){const g=()=>{A(C.current),a==null||a()},P=()=>{const L=new Date().getTime()-w.current;C.current=C.current-L,window.clearTimeout(M.current),b==null||b()};return s.addEventListener(ee,P),s.addEventListener(te,g),()=>{s.removeEventListener(ee,P),s.removeEventListener(te,g)}}},[u.viewport,T,b,a,A]),r.useEffect(()=>{d&&!u.isClosePausedRef.current&&A(T)},[d,T,u.isClosePausedRef,A]),r.useEffect(()=>(D(),()=>z()),[D,z]);const V=r.useMemo(()=>i?Te(i):null,[i]);return u.viewport?r.createElement(r.Fragment,null,V&&r.createElement(at,{__scopeToast:o,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},V),r.createElement(nt,{scope:o,onClose:I},Oe.createPortal(r.createElement(oe.ItemSlot,{scope:o},r.createElement(Ke,{asChild:!0,onEscapeKeyDown:h(m,()=>{u.isFocusedToastEscapeKeyDownRef.current||I(),u.isFocusedToastEscapeKeyDownRef.current=!1})},r.createElement(N.li,S({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},R,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,s=>{s.key==="Escape"&&(m==null||m(s.nativeEvent),s.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:h(e.onPointerDown,s=>{s.button===0&&(v.current={x:s.clientX,y:s.clientY})}),onPointerMove:h(e.onPointerMove,s=>{if(!v.current)return;const g=s.clientX-v.current.x,P=s.clientY-v.current.y,L=!!$.current,k=["left","right"].includes(u.swipeDirection),K=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Ie=k?K(0,g):0,Ne=k?0:K(0,P),G=s.pointerType==="touch"?10:2,U={x:Ie,y:Ne},ne={originalEvent:s,delta:U};L?($.current=U,W(et,x,ne,{discrete:!1})):ae(U,u.swipeDirection,G)?($.current=U,W(Ze,y,ne,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(g)>G||Math.abs(P)>G)&&(v.current=null)}),onPointerUp:h(e.onPointerUp,s=>{const g=$.current,P=s.target;if(P.hasPointerCapture(s.pointerId)&&P.releasePointerCapture(s.pointerId),$.current=null,v.current=null,g){const L=s.currentTarget,k={originalEvent:s,delta:g};ae(g,u.swipeDirection,u.swipeThreshold)?W(ot,_,k,{discrete:!0}):W(tt,F,k,{discrete:!0}),L.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})))),u.viewport))):null});me.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${q}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const at=e=>{const{__scopeToast:t,children:o,...n}=e,c=B(q,t),[d,f]=r.useState(!1),[m,b]=r.useState(!1);return lt(()=>f(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(a)},[]),m?null:r.createElement(Ue,{asChild:!0},r.createElement(ue,n,d&&r.createElement(r.Fragment,null,c.label," ",o)))},it=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,S({},n,{ref:t}))}),ct=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,S({},n,{ref:t}))}),dt="ToastAction",be=r.forwardRef((e,t)=>{const{altText:o,...n}=e;return o?r.createElement($e,{altText:o,asChild:!0},r.createElement(ve,S({},n,{ref:t}))):null});be.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${dt}\``)}};const ut="ToastClose",ve=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e,c=st(ut,o);return r.createElement($e,{asChild:!0},r.createElement(N.button,S({type:"button"},n,{ref:t,onClick:h(e.onClick,c.onClose)})))}),$e=r.forwardRef((e,t)=>{const{__scopeToast:o,altText:n,...c}=e;return r.createElement(N.div,S({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},c,{ref:t}))});function Te(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pt(n)){const c=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=n.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Te(n))}}),t}function W(e,t,o,{discrete:n}){const c=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&c.addEventListener(e,t,{once:!0}),n?ke(c,d):c.dispatchEvent(d)}const ae=(e,t,o=0)=>{const n=Math.abs(e.x),c=Math.abs(e.y),d=n>c;return t==="left"||t==="right"?d&&n>o:!d&&c>o};function lt(e=()=>{}){const t=Y(e);Me(()=>{let o=0,n=0;return o=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(n)}},[t])}function pt(e){return e.nodeType===e.ELEMENT_NODE}function ft(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const c=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||c?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Q(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}const mt=fe,we=Qe,xe=rt,Ee=it,ye=ct,ge=be,he=ve,bt=mt,Se=r.forwardRef(({className:e,...t},o)=>p.jsx(we,{ref:o,className:O("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Se.displayName=we.displayName;const vt=He("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-4 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ce=r.forwardRef(({className:e,variant:t,...o},n)=>p.jsx(xe,{ref:n,className:O(vt({variant:t}),e),...o}));Ce.displayName=xe.displayName;const Pe=r.forwardRef(({className:e,...t},o)=>p.jsx(ge,{ref:o,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pe.displayName=ge.displayName;const _e=r.forwardRef(({className:e,...t},o)=>p.jsx(he,{ref:o,className:O("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(Xe,{className:"h-4 w-4"})}));_e.displayName=he.displayName;const Re=r.forwardRef(({className:e,...t},o)=>p.jsx(Ee,{ref:o,className:O("text-sm font-semibold",e),...t}));Re.displayName=Ee.displayName;const Ae=r.forwardRef(({className:e,...t},o)=>p.jsx(ye,{ref:o,className:O("text-sm opacity-90",e),...t}));Ae.displayName=ye.displayName;const $t=1,Tt=1e6;let J=0;function wt(){return J=(J+1)%Number.MAX_SAFE_INTEGER,J.toString()}const Z=new Map,ie=e=>{if(Z.has(e))return;const t=setTimeout(()=>{Z.delete(e),j({type:"REMOVE_TOAST",toastId:e})},Tt);Z.set(e,t)},xt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,$t)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=t;return o?ie(o):e.toasts.forEach(n=>{ie(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===o||o===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)}}},H=[];let X={toasts:[]};function j(e){X=xt(X,e),H.forEach(t=>{t(X)})}function Et({...e}){const t=wt(),o=c=>j({type:"UPDATE_TOAST",toast:{...c,id:t}}),n=()=>j({type:"DISMISS_TOAST",toastId:t});return j({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||n()}}}),{id:t,dismiss:n,update:o}}function re(){const[e,t]=r.useState(X);return r.useEffect(()=>(H.push(t),()=>{const o=H.indexOf(t);o>-1&&H.splice(o,1)}),[e]),{...e,toast:Et,dismiss:o=>j({type:"DISMISS_TOAST",toastId:o})}}function De(){const{toasts:e}=re();return p.jsxs(bt,{children:[e.map(function({id:t,title:o,description:n,action:c,...d}){return p.jsxs(Ce,{...d,children:[typeof d.children<"u"?d.children:p.jsxs("div",{className:"grid gap-1",children:[o&&p.jsx(Re,{children:o}),n&&p.jsx(Ae,{children:n})]}),c,p.jsx(_e,{})]},t)}),p.jsx(Se,{})]})}const kt={title:"Shadcn/Toast"};function jt(){const{toast:e}=re();return p.jsxs("div",{children:[p.jsx(De,{}),p.jsx(ce,{variant:"outline",onClick:()=>{e({title:"Scheduled: Catch up ",description:"Friday, February 10, 2023 at 5:57 PM",action:p.jsx(Pe,{altText:"Goto schedule to undo",children:"Undo"}),duration:5e3})},children:"Add to calendar"})]})}function Vt(){const{toast:e}=re();return p.jsxs("div",{children:[p.jsx(De,{}),p.jsx(ce,{variant:"outline",onClick:()=>{e({description:"Pariatur mollit eiusmod fugiat labore sunt eu reprehenderit laborum Lorem est.",duration:5e3})},children:"Add to calendar"})]})}typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Vt as Simple,jt as ToastDemo,kt as default};
