import{r as c,_ as C,j as s}from"./index-B54GXRha.js";import{k as P,B as T}from"./index-n6cSTtfq.js";import{F as y}from"./index.es-D8fMnk8b.js";import{b as R,$ as F}from"./index-Cgem677h.js";import{$ as I,b as M,a as v}from"./index-DroSnTyO.js";import{$ as z}from"./index-DJnarNKn.js";import{$ as B}from"./index-CGfa0TiU.js";import{t as g}from"./bundle-mjs-BkWO730n.js";import{F as S}from"./FormLabel-DvxJkLPv.js";import{T as q}from"./Tooltip-BNJqDeqd.js";const E="Switch",[A,re]=I(E),[H,O]=A(E),U=c.forwardRef((r,o)=>{const{__scopeSwitch:t,name:n,checked:i,defaultChecked:d,required:l,disabled:b,value:p="on",onCheckedChange:a,...x}=r,[f,u]=c.useState(null),$=M(o,h=>u(h)),e=c.useRef(!1),w=f?!!f.closest("form"):!0,[m=!1,k]=R({prop:i,defaultProp:d,onChange:a});return c.createElement(H,{scope:t,checked:m,disabled:b},c.createElement(v.button,C({type:"button",role:"switch","aria-checked":m,"aria-required":l,"data-state":j(m),"data-disabled":b?"":void 0,disabled:b,value:p},x,{ref:$,onClick:F(r.onClick,h=>{k(_=>!_),w&&(e.current=h.isPropagationStopped(),e.current||h.stopPropagation())})})),w&&c.createElement(W,{control:f,bubbles:!e.current,name:n,value:p,checked:m,required:l,disabled:b,style:{transform:"translateX(-100%)"}}))}),D="SwitchThumb",L=c.forwardRef((r,o)=>{const{__scopeSwitch:t,...n}=r,i=O(D,t);return c.createElement(v.span,C({"data-state":j(i.checked),"data-disabled":i.disabled?"":void 0},n,{ref:o}))}),W=r=>{const{control:o,checked:t,bubbles:n=!0,...i}=r,d=c.useRef(null),l=z(t),b=B(o);return c.useEffect(()=>{const p=d.current,a=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(a,"checked").set;if(l!==t&&f){const u=new Event("click",{bubbles:n});f.call(p,t),p.dispatchEvent(u)}},[l,t,n]),c.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:t},i,{tabIndex:-1,ref:d,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(r){return r?"checked":"unchecked"}const X=U,G=L;function ne({id:r,data:o,disabled:t=!1,label:n,tooltip:i,checked:d,onCheckedChange:l,onBlur:b,fluid:p=!1,error:a,hideError:x=!1,required:f=!1,labelLeft:u=!1,size:$="md",className:e}){const w={sm:"w-10 h-[1.3rem]",md:"w-12 h-[1.6rem]",lg:"w-16 h-[1.9rem]"},m={sm:"ml-[0.2rem] w-4 h-4",md:"ml-1 w-5 h-5",lg:"ml-1 w-6 h-6"},k={sm:"translate-x-[1.1rem]",md:"translate-x-[1.25rem]",lg:"translate-x-[2rem]"},h={sm:"translate-x-[0.55rem]",md:"translate-x-[0.625rem]",lg:"translate-x-[1rem]"};return s.jsxs("div",{className:g("flex flex-row items-center gap-3",p&&"justify-between",e==null?void 0:e.root),children:[u&&n&&s.jsx(S,{className:{label:g("mr-0",e==null?void 0:e.label),tooltip:e==null?void 0:e.tooltip},label:n,labelType:"large",required:f,tooltip:i}),s.jsx(X,{id:r,"data-cy":o==null?void 0:o.cy,"data-test":o==null?void 0:o.test,checked:d,className:g("relative rounded-full border-0 bg-uzh-grey-80",t&&"cursor-not-allowed bg-uzh-grey-40",d&&"bg-primary-60",d&&t&&"bg-primary-20",!!a&&!x&&"outline outline-2 outline-red-600",w[$||"md"],u&&"mr-2",e==null?void 0:e.element),onCheckedChange:t?()=>null:l,onClick:()=>b?b():null,disabled:t,children:s.jsx(G,{className:g("flex items-center justify-center rounded-full bg-white transition-transform",typeof d>"u"&&h[$||"md"],d===!0&&k[$||"md"],m[$||"md"],e==null?void 0:e.thumb),children:t&&s.jsx(y,{icon:P,className:"h-3 w-3 text-gray-400"})})}),!u&&n&&s.jsx(S,{className:{label:e==null?void 0:e.label,tooltip:e==null?void 0:e.tooltip},label:n,labelType:"large",required:f,tooltip:i}),a&&!x&&s.jsx(q,{tooltip:a,delay:0,className:{tooltip:"max-w-[30rem] text-sm"},children:s.jsx(y,{icon:T,className:"-mx-2 text-red-600"})})]})}export{ne as S};
