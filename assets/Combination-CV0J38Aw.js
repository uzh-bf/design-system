import{r as c,j as $}from"./index-3bDrwqmf.js";import{u as ee}from"./index-C1Dnj48k.js";import{P as te}from"./index-BgjMKDLs.js";import{u as _}from"./index-D017fPkR.js";import{c as re,_ as ne,u as ae,a as N,f as oe,z as ce,s as ue,b as se,R as le,e as ie}from"./component-DGNKSzEu.js";var I=0;function Ue(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??W()),document.body.insertAdjacentElement("beforeend",e[1]??W()),I++,()=>{I===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),I--}},[])}function W(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var O="focusScope.autoFocusOnMount",x="focusScope.autoFocusOnUnmount",H={bubbles:!1,cancelable:!0},de="FocusScope",fe=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:f,onUnmountAutoFocus:h,...E}=e,[o,S]=c.useState(null),b=_(f),g=_(h),C=c.useRef(null),w=ee(t,r=>S(r)),v=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(a){let r=function(l){if(v.paused||!o)return;const i=l.target;o.contains(i)?C.current=i:p(C.current,{select:!0})},u=function(l){if(v.paused||!o)return;const i=l.relatedTarget;i!==null&&(o.contains(i)||p(C.current,{select:!0}))},s=function(l){if(document.activeElement===document.body)for(const d of l)d.removedNodes.length>0&&p(o)};document.addEventListener("focusin",r),document.addEventListener("focusout",u);const m=new MutationObserver(s);return o&&m.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",u),m.disconnect()}}},[a,o,v.paused]),c.useEffect(()=>{if(o){X.add(v);const r=document.activeElement;if(!o.contains(r)){const s=new CustomEvent(O,H);o.addEventListener(O,b),o.dispatchEvent(s),s.defaultPrevented||(ve(Se(z(o)),{select:!0}),document.activeElement===r&&p(o))}return()=>{o.removeEventListener(O,b),setTimeout(()=>{const s=new CustomEvent(x,H);o.addEventListener(x,g),o.dispatchEvent(s),s.defaultPrevented||p(r??document.body,{select:!0}),o.removeEventListener(x,g),X.remove(v)},0)}}},[o,b,g,v]);const y=c.useCallback(r=>{if(!n&&!a||v.paused)return;const u=r.key==="Tab"&&!r.altKey&&!r.ctrlKey&&!r.metaKey,s=document.activeElement;if(u&&s){const m=r.currentTarget,[l,i]=me(m);l&&i?!r.shiftKey&&s===i?(r.preventDefault(),n&&p(l,{select:!0})):r.shiftKey&&s===l&&(r.preventDefault(),n&&p(i,{select:!0})):s===m&&r.preventDefault()}},[n,a,v.paused]);return $.jsx(te.div,{tabIndex:-1,...E,ref:w,onKeyDown:y})});fe.displayName=de;function ve(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(p(a,{select:t}),document.activeElement!==n)return}function me(e){const t=z(e),n=K(t,e),a=K(t.reverse(),e);return[n,a]}function z(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const f=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||f?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function K(e,t){for(const n of e)if(!he(n,{upTo:t}))return n}function he(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ee(e){return e instanceof HTMLInputElement&&"select"in e}function p(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ee(e)&&t&&e.select()}}var X=be();function be(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Y(e,t),e.unshift(t)},remove(t){var n;e=Y(e,t),(n=e[0])==null||n.resume()}}}function Y(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function Se(e){return e.filter(t=>t.tagName!=="A")}var G=re(),B=function(){},A=c.forwardRef(function(e,t){var n=c.useRef(null),a=c.useState({onScrollCapture:B,onWheelCapture:B,onTouchMoveCapture:B}),f=a[0],h=a[1],E=e.forwardProps,o=e.children,S=e.className,b=e.removeScrollBar,g=e.enabled,C=e.shards,w=e.sideCar,v=e.noIsolation,y=e.inert,r=e.allowPinchZoom,u=e.as,s=u===void 0?"div":u,m=e.gapMode,l=ne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),i=w,d=ae([n,t]),R=N(N({},l),f);return c.createElement(c.Fragment,null,g&&c.createElement(i,{sideCar:G,removeScrollBar:b,shards:C,noIsolation:v,inert:y,setCallbacks:h,allowPinchZoom:!!r,lockRef:n,gapMode:m}),E?c.cloneElement(c.Children.only(o),N(N({},R),{ref:d})):c.createElement(s,N({},R,{className:S,ref:d}),o))});A.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};A.classNames={fullWidth:oe,zeroRight:ce};var D=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return D=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{D=!1}var T=D?{passive:!1}:!1,ge=function(e){return e.tagName==="TEXTAREA"},q=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ge(e)&&n[t]==="visible")},Ce=function(e){return q(e,"overflowY")},ye=function(e){return q(e,"overflowX")},V=function(e,t){var n=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var f=Q(e,a);if(f){var h=J(e,a),E=h[1],o=h[2];if(E>o)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},we=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},pe=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},Q=function(e,t){return e==="v"?Ce(t):ye(t)},J=function(e,t){return e==="v"?we(t):pe(t)},Re=function(e,t){return e==="h"&&t==="rtl"?-1:1},Te=function(e,t,n,a,f){var h=Re(e,window.getComputedStyle(t).direction),E=h*a,o=n.target,S=t.contains(o),b=!1,g=E>0,C=0,w=0;do{var v=J(e,o),y=v[0],r=v[1],u=v[2],s=r-u-h*y;(y||s)&&Q(e,o)&&(C+=s,w+=y),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!S&&o!==document.body||S&&(t.contains(o)||t===o));return(g&&(Math.abs(C)<1||!f)||!g&&(Math.abs(w)<1||!f))&&(b=!0),b},M=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j=function(e){return[e.deltaX,e.deltaY]},Z=function(e){return e&&"current"in e?e.current:e},Fe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Pe=0,F=[];function ke(e){var t=c.useRef([]),n=c.useRef([0,0]),a=c.useRef(),f=c.useState(Pe++)[0],h=c.useState(ue)[0],E=c.useRef(e);c.useEffect(function(){E.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(f));var r=se([e.lockRef.current],(e.shards||[]).map(Z),!0).filter(Boolean);return r.forEach(function(u){return u.classList.add("allow-interactivity-".concat(f))}),function(){document.body.classList.remove("block-interactivity-".concat(f)),r.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(f))})}}},[e.inert,e.lockRef.current,e.shards]);var o=c.useCallback(function(r,u){if("touches"in r&&r.touches.length===2)return!E.current.allowPinchZoom;var s=M(r),m=n.current,l="deltaX"in r?r.deltaX:m[0]-s[0],i="deltaY"in r?r.deltaY:m[1]-s[1],d,R=r.target,P=Math.abs(l)>Math.abs(i)?"h":"v";if("touches"in r&&P==="h"&&R.type==="range")return!1;var k=V(P,R);if(!k)return!0;if(k?d=P:(d=P==="v"?"h":"v",k=V(P,R)),!k)return!1;if(!a.current&&"changedTouches"in r&&(l||i)&&(a.current=d),!d)return!0;var U=a.current||d;return Te(U,u,r,U==="h"?l:i,!0)},[]),S=c.useCallback(function(r){var u=r;if(!(!F.length||F[F.length-1]!==h)){var s="deltaY"in u?j(u):M(u),m=t.current.filter(function(d){return d.name===u.type&&(d.target===u.target||u.target===d.shadowParent)&&Fe(d.delta,s)})[0];if(m&&m.should){u.cancelable&&u.preventDefault();return}if(!m){var l=(E.current.shards||[]).map(Z).filter(Boolean).filter(function(d){return d.contains(u.target)}),i=l.length>0?o(u,l[0]):!E.current.noIsolation;i&&u.cancelable&&u.preventDefault()}}},[]),b=c.useCallback(function(r,u,s,m){var l={name:r,delta:u,target:s,should:m,shadowParent:Le(s)};t.current.push(l),setTimeout(function(){t.current=t.current.filter(function(i){return i!==l})},1)},[]),g=c.useCallback(function(r){n.current=M(r),a.current=void 0},[]),C=c.useCallback(function(r){b(r.type,j(r),r.target,o(r,e.lockRef.current))},[]),w=c.useCallback(function(r){b(r.type,M(r),r.target,o(r,e.lockRef.current))},[]);c.useEffect(function(){return F.push(h),e.setCallbacks({onScrollCapture:C,onWheelCapture:C,onTouchMoveCapture:w}),document.addEventListener("wheel",S,T),document.addEventListener("touchmove",S,T),document.addEventListener("touchstart",g,T),function(){F=F.filter(function(r){return r!==h}),document.removeEventListener("wheel",S,T),document.removeEventListener("touchmove",S,T),document.removeEventListener("touchstart",g,T)}},[]);var v=e.removeScrollBar,y=e.inert;return c.createElement(c.Fragment,null,y?c.createElement(h,{styles:Ne(f)}):null,v?c.createElement(le,{gapMode:e.gapMode}):null)}function Le(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Me=ie(G,ke);var Ae=c.forwardRef(function(e,t){return c.createElement(A,N({},e,{ref:t,sideCar:Me}))});Ae.classNames=A.classNames;export{fe as F,Ae as R,Ue as u};
