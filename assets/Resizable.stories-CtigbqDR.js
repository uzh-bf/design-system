import{r as d,a as Cn,j as P,u as en}from"./index-DOVzBG90.js";import"./dialog-D4L3KZ82.js";import{c as nn}from"./utils-C0DKsjyR.js";import{c as In}from"./createLucideIcon-9lyOo-hP.js";import"./bundle-mjs-yGZq-iow.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],kn=In("grip-vertical",Rn),Ce=d.createContext(null);Ce.displayName="PanelGroupContext";const A={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},je=10,te=d.useLayoutEffect,Ue=Cn.useId,Nn=typeof Ue=="function"?Ue:()=>null;let Ln=0;function _e(e=null){const n=Nn(),t=d.useRef(e||n||null);return t.current===null&&(t.current=""+Ln++),e??t.current}function tn({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:a,minSize:s,onCollapse:g,onExpand:E,onResize:p,order:c,style:v,tagName:x="div",...I}){const C=d.useContext(Ce);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:N,getPanelSize:D,getPanelStyle:$,groupId:X,isPanelCollapsed:k,reevaluatePanelConstraints:w,registerPanel:V,resizePanel:J,unregisterPanel:F}=C,G=_e(l),M=d.useRef({callbacks:{onCollapse:g,onExpand:E,onResize:p},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:a,minSize:s},id:G,idIsFromProps:l!==void 0,order:c});d.useRef({didLogMissingDefaultSizeWarning:!1}),te(()=>{const{callbacks:_,constraints:j}=M.current,T={...j};M.current.id=G,M.current.idIsFromProps=l!==void 0,M.current.order=c,_.onCollapse=g,_.onExpand=E,_.onResize=p,j.collapsedSize=t,j.collapsible=r,j.defaultSize=i,j.maxSize=a,j.minSize=s,(T.collapsedSize!==j.collapsedSize||T.collapsible!==j.collapsible||T.maxSize!==j.maxSize||T.minSize!==j.minSize)&&w(M.current,T)}),te(()=>{const _=M.current;return V(_),()=>{F(_)}},[c,G,V,F]),d.useImperativeHandle(o,()=>({collapse:()=>{S(M.current)},expand:_=>{N(M.current,_)},getId(){return G},getSize(){return D(M.current)},isCollapsed(){return k(M.current)},isExpanded(){return!k(M.current)},resize:_=>{J(M.current,_)}}),[S,N,D,k,G,J]);const ee=$(M.current,i);return d.createElement(x,{...I,children:e,className:n,id:G,style:{...ee,...v},[A.groupId]:X,[A.panel]:"",[A.panelCollapsible]:r||void 0,[A.panelId]:G,[A.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const rn=d.forwardRef((e,n)=>d.createElement(tn,{...e,forwardedRef:n}));tn.displayName="Panel";rn.displayName="forwardRef(Panel)";let $e=null,we=-1,Z=null;function An(e,n){if(n){const t=(n&cn)!==0,r=(n&un)!==0,i=(n&dn)!==0,o=(n&fn)!==0;if(t)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Mn(){Z!==null&&(document.head.removeChild(Z),$e=null,Z=null,we=-1)}function Le(e,n){var t,r;const i=An(e,n);if($e!==i){if($e=i,Z===null&&(Z=document.createElement("style"),document.head.appendChild(Z)),we>=0){var o;(o=Z.sheet)===null||o===void 0||o.removeRule(we)}we=(t=(r=Z.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&t!==void 0?t:-1}}function on(e){return e.type==="keydown"}function ln(e){return e.type.startsWith("pointer")}function an(e){return e.type.startsWith("mouse")}function Ie(e){if(ln(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(an(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Dn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Hn(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function $n(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:Ke(e),b:Ke(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;y(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:We(Ve(t.a)),b:We(Ve(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let a=o.length;for(;a--;){const s=o[a];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}const jn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function _n(e){var n;const t=getComputedStyle((n=sn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Gn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||_n(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||jn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Ve(e){let n=e.length;for(;n--;){const t=e[n];if(y(t,"Missing node"),Gn(t))return t}return null}function We(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Ke(e){const n=[];for(;e;)n.push(e),e=sn(e);return n}function sn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const cn=1,un=2,dn=4,fn=8,Tn=Dn()==="coarse";let K=[],se=!1,Q=new Map,Re=new Map;const xe=new Set;function Bn(e,n,t,r,i){var o;const{ownerDocument:l}=n,a={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},s=(o=Q.get(l))!==null&&o!==void 0?o:0;return Q.set(l,s+1),xe.add(a),Pe(),function(){var E;Re.delete(e),xe.delete(a);const p=(E=Q.get(l))!==null&&E!==void 0?E:1;if(Q.set(l,p-1),Pe(),p===1&&Q.delete(l),K.includes(a)){const c=K.indexOf(a);c>=0&&K.splice(c,1),Te(),i("up",!0,null)}}}function Fn(e){const{target:n}=e,{x:t,y:r}=Ie(e);se=!0,Ge({target:n,x:t,y:r}),Pe(),K.length>0&&(Ee("down",e),e.preventDefault(),pn(n)||e.stopImmediatePropagation())}function Ae(e){const{x:n,y:t}=Ie(e);if(se&&e.buttons===0&&(se=!1,Ee("up",e)),!se){const{target:r}=e;Ge({target:r,x:n,y:t})}Ee("move",e),Te(),K.length>0&&e.preventDefault()}function Me(e){const{target:n}=e,{x:t,y:r}=Ie(e);Re.clear(),se=!1,K.length>0&&(e.preventDefault(),pn(n)||e.stopImmediatePropagation()),Ee("up",e),Ge({target:n,x:t,y:r}),Te(),Pe()}function pn(e){let n=e;for(;n;){if(n.hasAttribute(A.resizeHandle))return!0;n=n.parentElement}return!1}function Ge({target:e,x:n,y:t}){K.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),xe.forEach(i=>{const{element:o,hitAreaMargins:l}=i,a=o.getBoundingClientRect(),{bottom:s,left:g,right:E,top:p}=a,c=Tn?l.coarse:l.fine;if(n>=g-c&&n<=E+c&&t>=p-c&&t<=s+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&$n(r,o)>0){let x=r,I=!1;for(;x&&!x.contains(o);){if(Hn(x.getBoundingClientRect(),a)){I=!0;break}x=x.parentElement}if(I)return}K.push(i)}})}function De(e,n){Re.set(e,n)}function Te(){let e=!1,n=!1;K.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Re.forEach(r=>{t|=r}),e&&n?Le("intersection",t):e?Le("horizontal",t):n?Le("vertical",t):Mn()}let He;function Pe(){var e;(e=He)===null||e===void 0||e.abort(),He=new AbortController;const n={capture:!0,signal:He.signal};xe.size&&(se?(K.length>0&&Q.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("contextmenu",Me,n),i.addEventListener("pointerleave",Ae,n),i.addEventListener("pointermove",Ae,n))}),Q.forEach((t,r)=>{const{body:i}=r;i.addEventListener("pointerup",Me,n),i.addEventListener("pointercancel",Me,n)})):Q.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("pointerdown",Fn,n),i.addEventListener("pointermove",Ae,n))}))}function Ee(e,n){xe.forEach(t=>{const{setResizeHandlerState:r}=t,i=K.includes(t);r(e,i,n)})}function Un(){const[e,n]=d.useState(0);return d.useCallback(()=>n(t=>t+1),[])}function y(e,n){if(!e)throw console.error(n),Error(n)}function re(e,n,t=je){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Y(e,n,t=je){return re(e,n,t)===0}function U(e,n,t){return re(e,n,t)===0}function Vn(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!U(i,o,t))return!1}return!0}function ae({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];y(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:a=0}=r;if(re(t,a)<0)if(o){const s=(i+a)/2;re(t,s)<0?t=i:t=a}else t=a;return t=Math.min(l,t),t=parseFloat(t.toFixed(je)),t}function he({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(U(e,0))return n;const l=[...n],[a,s]=r;y(a!=null,"Invalid first pivot index"),y(s!=null,"Invalid second pivot index");let g=0;if(o==="keyboard"){{const p=e<0?s:a,c=t[p];y(c,`Panel constraints not found for index ${p}`);const{collapsedSize:v=0,collapsible:x,minSize:I=0}=c;if(x){const C=n[p];if(y(C!=null,`Previous layout not found for panel index ${p}`),U(C,v)){const S=I-C;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}{const p=e<0?a:s,c=t[p];y(c,`No panel constraints found for index ${p}`);const{collapsedSize:v=0,collapsible:x,minSize:I=0}=c;if(x){const C=n[p];if(y(C!=null,`Previous layout not found for panel index ${p}`),U(C,I)){const S=C-v;re(S,Math.abs(e))>0&&(e=e<0?0-S:S)}}}}{const p=e<0?1:-1;let c=e<0?s:a,v=0;for(;;){const I=n[c];y(I!=null,`Previous layout not found for panel index ${c}`);const S=ae({panelConstraints:t,panelIndex:c,size:100})-I;if(v+=S,c+=p,c<0||c>=t.length)break}const x=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-x:x}{let c=e<0?a:s;for(;c>=0&&c<t.length;){const v=Math.abs(e)-Math.abs(g),x=n[c];y(x!=null,`Previous layout not found for panel index ${c}`);const I=x-v,C=ae({panelConstraints:t,panelIndex:c,size:I});if(!U(x,C)&&(g+=x-C,l[c]=C,g.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(Vn(i,l))return i;{const p=e<0?s:a,c=n[p];y(c!=null,`Previous layout not found for panel index ${p}`);const v=c+g,x=ae({panelConstraints:t,panelIndex:p,size:v});if(l[p]=x,!U(x,v)){let I=v-x,S=e<0?s:a;for(;S>=0&&S<t.length;){const N=l[S];y(N!=null,`Previous layout not found for panel index ${S}`);const D=N+I,$=ae({panelConstraints:t,panelIndex:S,size:D});if(U(N,$)||(I-=$-N,l[S]=$),U(I,0))break;e>0?S--:S++}}}const E=l.reduce((p,c)=>c+p,0);return U(E,100)?l:i}function Wn({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const a=t[0];y(a!=null,"No pivot index found"),n.forEach((p,c)=>{const{constraints:v}=p,{maxSize:x=100,minSize:I=0}=v;c===a?(r=I,i=x):(o+=I,l+=x)});const s=Math.min(i,100-o),g=Math.max(r,100-l),E=e[a];return{valueMax:s,valueMin:g,valueNow:E}}function ze(e,n=document){return Array.from(n.querySelectorAll(`[${A.resizeHandleId}][data-panel-group-id="${e}"]`))}function mn(e,n,t=document){const i=ze(e,t).findIndex(o=>o.getAttribute(A.resizeHandleId)===n);return i??null}function hn(e,n,t){const r=mn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function Kn(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function gn(e,n=document){if(Kn(n)&&n.dataset.panelGroupId==e)return n;const t=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return t||null}function ke(e,n=document){const t=n.querySelector(`[${A.resizeHandleId}="${e}"]`);return t||null}function Xn(e,n,t,r=document){var i,o,l,a;const s=ke(n,r),g=ze(e,r),E=s?g.indexOf(s):-1,p=(i=(o=t[E])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,c=(l=(a=t[E+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[p,c]}function On({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){d.useRef({didWarnAboutMissingResizeHandle:!1}),te(()=>{if(!o)return;const a=ze(t,o);for(let s=0;s<i.length-1;s++){const{valueMax:g,valueMin:E,valueNow:p}=Wn({layout:r,panelsArray:i,pivotIndices:[s,s+1]}),c=a[s];if(c!=null){const v=i[s];y(v,`No panel data found for index "${s}"`),c.setAttribute("aria-controls",v.id),c.setAttribute("aria-valuemax",""+Math.round(g)),c.setAttribute("aria-valuemin",""+Math.round(E)),c.setAttribute("aria-valuenow",p!=null?""+Math.round(p):"")}}return()=>{a.forEach((s,g)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[t,r,i,o]),d.useEffect(()=>{if(!o)return;const a=n.current;y(a,"Eager values not found");const{panelDataArray:s}=a,g=gn(t,o);y(g!=null,`No group found for id "${t}"`);const E=ze(t,o);y(E,`No resize handles found for group id "${t}"`);const p=E.map(c=>{const v=c.getAttribute(A.resizeHandleId);y(v,"Resize handle element has no handle id attribute");const[x,I]=Xn(t,v,s,o);if(x==null||I==null)return()=>{};const C=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const N=s.findIndex(D=>D.id===x);if(N>=0){const D=s[N];y(D,`No panel data found for index ${N}`);const $=r[N],{collapsedSize:X=0,collapsible:k,minSize:w=0}=D.constraints;if($!=null&&k){const V=he({delta:U($,X)?w-X:X-$,initialLayout:r,panelConstraints:s.map(J=>J.constraints),pivotIndices:hn(t,v,o),prevLayout:r,trigger:"keyboard"});r!==V&&l(V)}}break}}};return c.addEventListener("keydown",C),()=>{c.removeEventListener("keydown",C)}});return()=>{p.forEach(c=>c())}},[o,e,n,t,r,i,l])}function Xe(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function xn(e,n){const t=e==="horizontal",{x:r,y:i}=Ie(n);return t?r:i}function qn(e,n,t,r,i){const o=t==="horizontal",l=ke(n,i);y(l,`No resize handle element found for id "${n}"`);const a=l.getAttribute(A.groupId);y(a,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r;const g=xn(t,e),E=gn(a,i);y(E,`No group element found for id "${a}"`);const p=E.getBoundingClientRect(),c=o?p.width:p.height;return(g-s)/c*100}function Jn(e,n,t,r,i,o){if(on(e)){const l=t==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let s=0;switch(e.key){case"ArrowDown":s=l?0:a;break;case"ArrowLeft":s=l?-a:0;break;case"ArrowRight":s=l?a:0;break;case"ArrowUp":s=l?0:-a;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return r==null?0:qn(e,n,t,r,o)}function Yn({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];y(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;a!=null&&(r++,n[o]=a,i-=a)}for(let o=0;o<e.length;o++){const l=t[o];y(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;if(a!=null)continue;const s=e.length-r,g=i/s;r++,n[o]=g,i-=g}return n}function ie(e,n,t){n.forEach((r,i)=>{const o=e[i];y(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:a,id:s}=o,{collapsedSize:g=0,collapsible:E}=a,p=t[s];if(p==null||r!==p){t[s]=r;const{onCollapse:c,onExpand:v,onResize:x}=l;x&&x(r,p),E&&(c||v)&&(v&&(p==null||Y(p,g))&&!Y(r,g)&&v(),c&&(p==null||!Y(p,g))&&Y(r,g)&&c())}})}function be(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Zn({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let a;return l==null?a=e!=null?e.toPrecision(o):"1":r.length===1?a="1":a=l.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Qn(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function Oe(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function zn(e){return`react-resizable-panels:${e}`}function yn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function vn(e,n){try{const t=zn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function et(e,n,t){var r,i;const o=(r=vn(e,t))!==null&&r!==void 0?r:{},l=yn(n);return(i=o[l])!==null&&i!==void 0?i:null}function nt(e,n,t,r,i){var o;const l=zn(e),a=yn(n),s=(o=vn(e,i))!==null&&o!==void 0?o:{};s[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(s))}catch(g){console.error(g)}}function qe({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!U(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const l=t[o];y(l!=null,`No layout data found for index ${o}`);const a=100/r*l;t[o]=a}let i=0;for(let o=0;o<n.length;o++){const l=t[o];y(l!=null,`No layout data found for index ${o}`);const a=ae({panelConstraints:n,panelIndex:o,size:l});l!=a&&(i+=l-a,t[o]=a)}if(!U(i,0))for(let o=0;o<n.length;o++){const l=t[o];y(l!=null,`No layout data found for index ${o}`);const a=l+i,s=ae({panelConstraints:n,panelIndex:o,size:a});if(l!==s&&(i-=s-l,t[o]=s,U(i,0)))break}return t}const tt=100,ge={getItem:e=>(Oe(ge),ge.getItem(e)),setItem:(e,n)=>{Oe(ge),ge.setItem(e,n)}},Je={};function bn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:a=null,storage:s=ge,style:g,tagName:E="div",...p}){const c=_e(o),v=d.useRef(null),[x,I]=d.useState(null),[C,S]=d.useState([]),N=Un(),D=d.useRef({}),$=d.useRef(new Map),X=d.useRef(0),k=d.useRef({autoSaveId:e,direction:r,dragState:x,id:c,keyboardResizeBy:a,onLayout:l,storage:s}),w=d.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:u}=w.current;return u},setLayout:u=>{const{onLayout:h}=k.current,{layout:b,panelDataArray:m}=w.current,f=qe({layout:u,panelConstraints:m.map(z=>z.constraints)});Xe(b,f)||(S(f),w.current.layout=f,h&&h(f),ie(m,f,D.current))}}),[]),te(()=>{k.current.autoSaveId=e,k.current.direction=r,k.current.dragState=x,k.current.id=c,k.current.onLayout=l,k.current.storage=s}),On({committedValuesRef:k,eagerValuesRef:w,groupId:c,layout:C,panelDataArray:w.current.panelDataArray,setLayout:S,panelGroupElement:v.current}),d.useEffect(()=>{const{panelDataArray:u}=w.current;if(e){if(C.length===0||C.length!==u.length)return;let h=Je[e];h==null&&(h=Qn(nt,tt),Je[e]=h);const b=[...u],m=new Map($.current);h(e,b,m,C,s)}},[e,C,s]),d.useEffect(()=>{});const V=d.useCallback(u=>{const{onLayout:h}=k.current,{layout:b,panelDataArray:m}=w.current;if(u.constraints.collapsible){const f=m.map(O=>O.constraints),{collapsedSize:z=0,panelSize:R,pivotIndices:H}=ne(m,u,b);if(y(R!=null,`Panel size not found for panel "${u.id}"`),!Y(R,z)){$.current.set(u.id,R);const q=le(m,u)===m.length-1?R-z:z-R,L=he({delta:q,initialLayout:b,panelConstraints:f,pivotIndices:H,prevLayout:b,trigger:"imperative-api"});be(b,L)||(S(L),w.current.layout=L,h&&h(L),ie(m,L,D.current))}}},[]),J=d.useCallback((u,h)=>{const{onLayout:b}=k.current,{layout:m,panelDataArray:f}=w.current;if(u.constraints.collapsible){const z=f.map(W=>W.constraints),{collapsedSize:R=0,panelSize:H=0,minSize:O=0,pivotIndices:q}=ne(f,u,m),L=h??O;if(Y(H,R)){const W=$.current.get(u.id),pe=W!=null&&W>=L?W:L,Ne=le(f,u)===f.length-1?H-pe:pe-H,B=he({delta:Ne,initialLayout:m,panelConstraints:z,pivotIndices:q,prevLayout:m,trigger:"imperative-api"});be(m,B)||(S(B),w.current.layout=B,b&&b(B),ie(f,B,D.current))}}},[]),F=d.useCallback(u=>{const{layout:h,panelDataArray:b}=w.current,{panelSize:m}=ne(b,u,h);return y(m!=null,`Panel size not found for panel "${u.id}"`),m},[]),G=d.useCallback((u,h)=>{const{panelDataArray:b}=w.current,m=le(b,u);return Zn({defaultSize:h,dragState:x,layout:C,panelData:b,panelIndex:m})},[x,C]),M=d.useCallback(u=>{const{layout:h,panelDataArray:b}=w.current,{collapsedSize:m=0,collapsible:f,panelSize:z}=ne(b,u,h);return y(z!=null,`Panel size not found for panel "${u.id}"`),f===!0&&Y(z,m)},[]),ee=d.useCallback(u=>{const{layout:h,panelDataArray:b}=w.current,{collapsedSize:m=0,collapsible:f,panelSize:z}=ne(b,u,h);return y(z!=null,`Panel size not found for panel "${u.id}"`),!f||re(z,m)>0},[]),_=d.useCallback(u=>{const{panelDataArray:h}=w.current;h.push(u),h.sort((b,m)=>{const f=b.order,z=m.order;return f==null&&z==null?0:f==null?-1:z==null?1:f-z}),w.current.panelDataArrayChanged=!0,N()},[N]);te(()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:u,onLayout:h,storage:b}=k.current,{layout:m,panelDataArray:f}=w.current;let z=null;if(u){const H=et(u,f,b);H&&($.current=new Map(Object.entries(H.expandToSizes)),z=H.layout)}z==null&&(z=Yn({panelDataArray:f}));const R=qe({layout:z,panelConstraints:f.map(H=>H.constraints)});Xe(m,R)||(S(R),w.current.layout=R,h&&h(R),ie(f,R,D.current))}}),te(()=>{const u=w.current;return()=>{u.layout=[]}},[]);const j=d.useCallback(u=>{let h=!1;const b=v.current;return b&&window.getComputedStyle(b,null).getPropertyValue("direction")==="rtl"&&(h=!0),function(f){f.preventDefault();const z=v.current;if(!z)return()=>null;const{direction:R,dragState:H,id:O,keyboardResizeBy:q,onLayout:L}=k.current,{layout:W,panelDataArray:pe}=w.current,{initialLayout:ve}=H??{},Ne=hn(O,u,z);let B=Jn(f,u,R,H,q,z);const Be=R==="horizontal";Be&&h&&(B=-B);const Pn=pe.map(En=>En.constraints),me=he({delta:B,initialLayout:ve??W,panelConstraints:Pn,pivotIndices:Ne,prevLayout:W,trigger:on(f)?"keyboard":"mouse-or-touch"}),Fe=!be(W,me);(ln(f)||an(f))&&X.current!=B&&(X.current=B,!Fe&&B!==0?Be?De(u,B<0?cn:un):De(u,B<0?dn:fn):De(u,0)),Fe&&(S(me),w.current.layout=me,L&&L(me),ie(pe,me,D.current))}},[]),T=d.useCallback((u,h)=>{const{onLayout:b}=k.current,{layout:m,panelDataArray:f}=w.current,z=f.map(W=>W.constraints),{panelSize:R,pivotIndices:H}=ne(f,u,m);y(R!=null,`Panel size not found for panel "${u.id}"`);const q=le(f,u)===f.length-1?R-h:h-R,L=he({delta:q,initialLayout:m,panelConstraints:z,pivotIndices:H,prevLayout:m,trigger:"imperative-api"});be(m,L)||(S(L),w.current.layout=L,b&&b(L),ie(f,L,D.current))},[]),ce=d.useCallback((u,h)=>{const{layout:b,panelDataArray:m}=w.current,{collapsedSize:f=0,collapsible:z}=h,{collapsedSize:R=0,collapsible:H,maxSize:O=100,minSize:q=0}=u.constraints,{panelSize:L}=ne(m,u,b);L!=null&&(z&&H&&Y(L,f)?Y(f,R)||T(u,R):L<q?T(u,q):L>O&&T(u,O))},[T]),ue=d.useCallback((u,h)=>{const{direction:b}=k.current,{layout:m}=w.current;if(!v.current)return;const f=ke(u,v.current);y(f,`Drag handle element not found for id "${u}"`);const z=xn(b,h);I({dragHandleId:u,dragHandleRect:f.getBoundingClientRect(),initialCursorPosition:z,initialLayout:m})},[]),de=d.useCallback(()=>{I(null)},[]),ye=d.useCallback(u=>{const{panelDataArray:h}=w.current,b=le(h,u);b>=0&&(h.splice(b,1),delete D.current[u.id],w.current.panelDataArrayChanged=!0,N())},[N]),oe=d.useMemo(()=>({collapsePanel:V,direction:r,dragState:x,expandPanel:J,getPanelSize:F,getPanelStyle:G,groupId:c,isPanelCollapsed:M,isPanelExpanded:ee,reevaluatePanelConstraints:ce,registerPanel:_,registerResizeHandle:j,resizePanel:T,startDragging:ue,stopDragging:de,unregisterPanel:ye,panelGroupElement:v.current}),[V,x,r,J,F,G,c,M,ee,ce,_,j,T,ue,de,ye]),fe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(Ce.Provider,{value:oe},d.createElement(E,{...p,children:n,className:t,id:o,ref:v,style:{...fe,...g},[A.group]:"",[A.groupDirection]:r,[A.groupId]:c}))}const Sn=d.forwardRef((e,n)=>d.createElement(bn,{...e,forwardedRef:n}));bn.displayName="PanelGroup";Sn.displayName="forwardRef(PanelGroup)";function le(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const r=le(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return{...n.constraints,panelSize:l,pivotIndices:o}}function rt({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){d.useEffect(()=>{if(e||t==null||r==null)return;const i=ke(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const a=i.getAttribute(A.groupId);y(a,`No group element found for id "${a}"`);const s=ze(a,r),g=mn(a,n,r);y(g!==null,`No resize element found for id "${n}"`);const E=l.shiftKey?g>0?g-1:s.length-1:g+1<s.length?g+1:0;s[E].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function wn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:l,onDragging:a,onFocus:s,onPointerDown:g,onPointerUp:E,style:p={},tabIndex:c=0,tagName:v="div",...x}){var I,C;const S=d.useRef(null),N=d.useRef({onClick:l,onDragging:a,onPointerDown:g,onPointerUp:E});d.useEffect(()=>{N.current.onClick=l,N.current.onDragging=a,N.current.onPointerDown=g,N.current.onPointerUp=E});const D=d.useContext(Ce);if(D===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:$,groupId:X,registerResizeHandle:k,startDragging:w,stopDragging:V,panelGroupElement:J}=D,F=_e(i),[G,M]=d.useState("inactive"),[ee,_]=d.useState(!1),[j,T]=d.useState(null),ce=d.useRef({state:G});te(()=>{ce.current.state=G}),d.useEffect(()=>{if(t)T(null);else{const oe=k(F);T(()=>oe)}},[t,F,k]);const ue=(I=r==null?void 0:r.coarse)!==null&&I!==void 0?I:15,de=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;d.useEffect(()=>{if(t||j==null)return;const oe=S.current;y(oe,"Element ref not attached");let fe=!1;return Bn(F,oe,$,{coarse:ue,fine:de},(h,b,m)=>{if(!b){M("inactive");return}switch(h){case"down":{M("drag"),fe=!1,y(m,'Expected event to be defined for "down" action'),w(F,m);const{onDragging:f,onPointerDown:z}=N.current;f==null||f(!0),z==null||z();break}case"move":{const{state:f}=ce.current;fe=!0,f!=="drag"&&M("hover"),y(m,'Expected event to be defined for "move" action'),j(m);break}case"up":{M("hover"),V();const{onClick:f,onDragging:z,onPointerUp:R}=N.current;z==null||z(!1),R==null||R(),fe||f==null||f();break}}})},[ue,$,t,de,k,F,j,w,V]),rt({disabled:t,handleId:F,resizeHandler:j,panelGroupElement:J});const ye={touchAction:"none",userSelect:"none"};return d.createElement(v,{...x,children:e,className:n,id:i,onBlur:()=>{_(!1),o==null||o()},onFocus:()=>{_(!0),s==null||s()},ref:S,role:"separator",style:{...ye,...p},tabIndex:c,[A.groupDirection]:$,[A.groupId]:X,[A.resizeHandle]:"",[A.resizeHandleActive]:G==="drag"?"pointer":ee?"keyboard":void 0,[A.resizeHandleEnabled]:!t,[A.resizeHandleId]:F,[A.resizeHandleState]:G})}wn.displayName="PanelResizeHandle";function Ye({className:e,...n}){return P.jsx(Sn,{"data-slot":"resizable-panel-group",className:nn("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...n})}function Se({...e}){return P.jsx(rn,{"data-slot":"resizable-panel",...e})}function Ze({withHandle:e,className:n,...t}){return P.jsx(wn,{"data-slot":"resizable-handle",className:nn("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...t,children:e&&P.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:P.jsx(kn,{className:"size-2.5"})})})}const ut=()=>P.jsxs(Ye,{direction:"horizontal",className:"max-w-md rounded-lg border md:min-w-[450px]",children:[P.jsx(Se,{defaultSize:50,children:P.jsx("div",{className:"flex h-[200px] items-center justify-center p-6",children:P.jsx("span",{className:"font-semibold",children:"One"})})}),P.jsx(Ze,{}),P.jsx(Se,{defaultSize:50,children:P.jsxs(Ye,{direction:"vertical",children:[P.jsx(Se,{defaultSize:25,children:P.jsx("div",{className:"flex h-full items-center justify-center p-6",children:P.jsx("span",{className:"font-semibold",children:"Two"})})}),P.jsx(Ze,{}),P.jsx(Se,{defaultSize:75,children:P.jsx("div",{className:"flex h-full items-center justify-center p-6",children:P.jsx("span",{className:"font-semibold",children:"Three"})})})]})})]});function Qe(e){const n={code:"code",li:"li",p:"p",ul:"ul",...en(),...e.components};return P.jsxs(P.Fragment,{children:[`
`,P.jsxs("div",{className:"prose prose-sm max-w-none",children:[P.jsxs(n.p,{className:"ladle-markdown",children:["The ",P.jsx(n.code,{className:"ladle-markdown",children:"Resizable"})," component provides user-controlled resizable panels with drag handles, enabling flexible layout customization. Users can adjust panel sizes by dragging resize handles to create personalized workspace arrangements."]}),P.jsx(n.p,{className:"ladle-markdown",children:"Use this component when you need to:"}),P.jsxs(n.ul,{className:"ladle-markdown",children:[`
`,P.jsx(n.li,{className:"ladle-markdown",children:"Create split-pane layouts that users can customize"}),`
`,P.jsx(n.li,{className:"ladle-markdown",children:"Build resizable dashboard panels or content areas"}),`
`,P.jsx(n.li,{className:"ladle-markdown",children:"Implement adjustable sidebars or content sections"}),`
`,P.jsx(n.li,{className:"ladle-markdown",children:"Provide flexible workspace layouts that adapt to user preferences"}),`
`]}),P.jsx(n.p,{className:"ladle-markdown",children:"The resizable system supports both horizontal and vertical layouts, nested panel groups, minimum/maximum size constraints, and smooth resize animations. It maintains responsive behavior and provides accessible keyboard navigation for resize operations."})]}),`
`,`
`]})}function ot(e={}){const{wrapper:n}={...en(),...e.components};return n?P.jsx(n,{...e,children:P.jsx(Qe,{...e})}):Qe(e)}ot.storyName="Readme";typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ut as Default,ot as MDXContent};
