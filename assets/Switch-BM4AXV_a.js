import{r as h,j as o}from"./index-dj-XLryl.js";import{o as z,m as F}from"./index-Dx3L3kPF.js";import{F as j}from"./index.es-DfCH8m0D.js";import{c as A}from"./index-DW48STyt.js";import{u as k}from"./index-BZPBm7hA.js";import{c as H}from"./index-BiZ0HvOU.js";import{u as U}from"./index-eUvximyX.js";import{u as L}from"./index-BIMH0WG9.js";import{u as O}from"./index-BYdVE-1h.js";import{P as E}from"./index-CRwA_tZO.js";import{t as g}from"./bundle-mjs-yGZq-iow.js";import{F as P}from"./FormLabel-Bzh_qK7I.js";import{T as q}from"./Tooltip-DQ7pm0MC.js";var y="Switch",[D,ct]=H(y),[W,X]=D(y),R=h.forwardRef((c,r)=>{const{__scopeSwitch:e,name:n,checked:i,defaultChecked:u,required:m,disabled:p,value:a="on",onCheckedChange:f,form:l,...x}=c,[d,s]=h.useState(null),t=k(r,b=>s(b)),S=h.useRef(!1),v=d?l||!!d.closest("form"):!0,[w,C]=U({prop:i,defaultProp:u??!1,onChange:f,caller:y});return o.jsxs(W,{scope:e,checked:w,disabled:p,children:[o.jsx(E.button,{type:"button",role:"switch","aria-checked":w,"aria-required":m,"data-state":B(w),"data-disabled":p?"":void 0,disabled:p,value:a,...x,ref:t,onClick:A(c.onClick,b=>{C(M=>!M),v&&(S.current=b.isPropagationStopped(),S.current||b.stopPropagation())})}),v&&o.jsx(I,{control:d,bubbles:!S.current,name:n,value:a,checked:w,required:m,disabled:p,form:l,style:{transform:"translateX(-100%)"}})]})});R.displayName=y;var T="SwitchThumb",_=h.forwardRef((c,r)=>{const{__scopeSwitch:e,...n}=c,i=X(T,e);return o.jsx(E.span,{"data-state":B(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})});_.displayName=T;var $="SwitchBubbleInput",I=h.forwardRef(({__scopeSwitch:c,control:r,checked:e,bubbles:n=!0,...i},u)=>{const m=h.useRef(null),p=k(m,u),a=L(e),f=O(r);return h.useEffect(()=>{const l=m.current;if(!l)return;const x=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(x,"checked").set;if(a!==e&&s){const t=new Event("click",{bubbles:n});s.call(l,e),l.dispatchEvent(t)}},[a,e,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...i,tabIndex:-1,ref:p,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});I.displayName=$;function B(c){return c?"checked":"unchecked"}var G=R,J=_;function ut({id:c,data:r,disabled:e=!1,label:n,tooltip:i,checked:u,onCheckedChange:m,onBlur:p,fluid:a=!1,error:f,hideError:l=!1,required:x=!1,labelLeft:d=!1,size:s="md",className:t}){const S={sm:"w-10 h-[1.3rem]",md:"w-12 h-[1.6rem]",lg:"w-16 h-[1.9rem]"},v={sm:"ml-[0.2rem] w-4 h-4",md:"ml-1 w-5 h-5",lg:"ml-1 w-6 h-6"},w={sm:"translate-x-[1.1rem]",md:"translate-x-5",lg:"translate-x-8"},C={sm:"translate-x-[0.55rem]",md:"translate-x-2.5",lg:"translate-x-4"},b={sm:"text-xs",md:"text-sm",lg:"text-base"};return o.jsxs("div",{className:g("flex flex-row items-center gap-3",a&&"justify-between",t==null?void 0:t.root),children:[d&&n&&o.jsx(P,{className:{label:g("mr-0",t==null?void 0:t.label),tooltip:t==null?void 0:t.tooltip},label:n,labelType:"large",required:x,tooltip:i}),o.jsx(G,{id:c,"data-cy":r==null?void 0:r.cy,"data-test":r==null?void 0:r.test,checked:u,className:g("bg-uzh-grey-80 disabled:bg-uzh-grey-40 relative cursor-pointer rounded-full border-0 disabled:cursor-not-allowed",u&&"bg-primary-60",u&&e&&"bg-primary-20!",!!f&&!l&&"outline-destructive outline-2",S[s||"md"],d&&"mr-2",t==null?void 0:t.element),onCheckedChange:e?()=>null:m,onClick:()=>p?p():null,disabled:e,children:o.jsx(J,{className:g("flex items-center justify-center rounded-full bg-white transition-transform",typeof u>"u"&&C[s||"md"],u===!0&&w[s||"md"],v[s||"md"],t==null?void 0:t.thumb),children:e&&o.jsx(j,{icon:z,className:g("text-gray-400",b[s||"md"])})})}),!d&&n&&o.jsx(P,{className:{label:t==null?void 0:t.label,tooltip:t==null?void 0:t.tooltip},label:n,labelType:"large",required:x,tooltip:i}),f&&!l&&o.jsx(q,{tooltip:f,delay:0,className:{tooltip:"max-w-120 text-sm"},children:o.jsx(j,{icon:F,className:"text-destructive -mx-2"})})]})}export{ut as S};
