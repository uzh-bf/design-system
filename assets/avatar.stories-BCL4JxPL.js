import{r as o,j as s}from"./index-IQZlS5KY.js";import{c as I,u as E,a as g}from"./index-C4LMBIUZ.js";import{P as u}from"./index-BW3P9G5K.js";import{c as m}from"./utils-D7uag5n0.js";import"./index-DQSDpuZ0.js";import"./bundle-mjs-BkWO730n.js";var f="Avatar",[_,B]=I(f),[b,p]=_(f),A=o.forwardRef((a,t)=>{const{__scopeAvatar:e,...r}=a,[n,d]=o.useState("idle");return s.jsx(b,{scope:e,imageLoadingStatus:n,onImageLoadingStatusChange:d,children:s.jsx(u.span,{...r,ref:t})})});A.displayName=f;var w="AvatarImage",x=o.forwardRef((a,t)=>{const{__scopeAvatar:e,src:r,onLoadingStatusChange:n=()=>{},...d}=a,l=p(w,e),i=k(r),c=E(v=>{n(v),l.onImageLoadingStatusChange(v)});return g(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?s.jsx(u.img,{...d,ref:t,src:r}):null});x.displayName=w;var h="AvatarFallback",S=o.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:r,...n}=a,d=p(h,e),[l,i]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(c)}},[r]),l&&d.imageLoadingStatus!=="loaded"?s.jsx(u.span,{...n,ref:t}):null});S.displayName=h;function k(a){const[t,e]=o.useState("idle");return g(()=>{if(!a){e("error");return}let r=!0;const n=new window.Image,d=l=>()=>{r&&e(l)};return e("loading"),n.onload=d("loaded"),n.onerror=d("error"),n.src=a,()=>{r=!1}},[a]),t}var N=A,y=x,j=S;const L=o.forwardRef(({className:a,...t},e)=>s.jsx(N,{ref:e,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));L.displayName=N.displayName;const R=o.forwardRef(({className:a,...t},e)=>s.jsx(y,{ref:e,className:m("aspect-square h-full w-full",a),...t}));R.displayName=y.displayName;const C=o.forwardRef(({className:a,...t},e)=>s.jsx(j,{ref:e,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));C.displayName=j.displayName;const D={title:"Shadcn/Avatar"},G=()=>s.jsxs(L,{children:[s.jsx(R,{src:"https://github.com/shadcn.png",alt:"@shadcn"}),s.jsx(C,{children:"CN"})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{G as Default,D as default};
