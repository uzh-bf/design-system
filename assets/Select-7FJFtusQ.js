import{r as b,j as e}from"./index-BafhfaWL.js";import{t as x}from"./bundle-mjs-yGZq-iow.js";import{T as $}from"./Tooltip-C_UwhkRl.js";import{S as O,a as V,b as g,c as k,d as w,e as G,f as R,g as q}from"./select-CdG5ogKH.js";const i=({item:o})=>{var r,a,s;return e.jsxs("div",{className:x("flex flex-row items-center gap-2",(r=o.className)==null?void 0:r.item),children:[e.jsx("span",{className:(a=o.className)==null?void 0:a.label,children:o.label}),o.icon&&e.jsx("span",{className:(s=o.className)==null?void 0:s.icon,children:o.icon})]})};function J({id:o,data:r,items:a,groups:s,onChange:L,onBlur:p,value:h,disabled:f=!1,className:l,name:C,placeholder:S,defaultValue:E,basic:u=!1,contentPosition:T="item-aligned"}){const[z,I]=b.useState(!1),[j,M]=b.useState(void 0);return b.useEffect(()=>{var d;const t=a||(s==null?void 0:s.flatMap(n=>n.items))||[];M((d=t==null?void 0:t.find(n=>n.value===h))==null?void 0:d.shortLabel)},[h,a,s]),e.jsx("div",{className:x("relative flex",l==null?void 0:l.root),children:e.jsxs(O,{name:C,open:z,onValueChange:L,onOpenChange:t=>{I(t),!t&&p&&p()},value:h,defaultValue:E,children:[e.jsx(V,{id:o,"data-cy":r==null?void 0:r.cy,"data-test":r==null?void 0:r.test,className:x("h-9 w-60 text-base [&>span]:text-start",f&&"bg-uzh-grey-20 opacity-70",u&&"[all:unset]",l==null?void 0:l.trigger),hideIcon:u,disabled:f,children:j?e.jsx(g,{placeholder:S,children:j},j):e.jsx(g,{placeholder:S})}),e.jsx(k,{position:T,className:x("z-50",l==null?void 0:l.content),children:a?a.map((t,d)=>{var n,c;return e.jsx(w,{id:o,value:t.value,disabled:t.disabled,"data-cy":(n=t.data)==null?void 0:n.cy,"data-test":(c=t.data)==null?void 0:c.test,className:x("text-base",t.disabled&&"cursor-not-allowed",l==null?void 0:l.item),children:t.tooltip?e.jsx($,{tooltip:t.tooltip,children:e.jsx(i,{item:t})}):e.jsx(i,{item:t})},`${t.value}-${d}`)}):s.filter(t=>t.items.length>0).map((t,d)=>e.jsxs(G,{children:[!t.hideSeparator&&d!==0?e.jsx(R,{}):null,t.label&&e.jsx(q,{className:x("text-sm font-bold text-black",l==null?void 0:l.groupLabel),children:t.label}),t.items.map((n,c)=>{var v,y;return e.jsx(w,{id:o,value:n.value,disabled:n.disabled,"data-cy":(v=n.data)==null?void 0:v.cy,"data-test":(y=n.data)==null?void 0:y.test,className:x("text-base",n.disabled&&"cursor-not-allowed!",l==null?void 0:l.item),children:n.tooltip?e.jsx($,{tooltip:n.tooltip,children:e.jsx(i,{item:n})}):e.jsx(i,{item:n})},`${n.value}-${c}`)})]},`group-${t.label}-${d}`))})]})})}export{J as S};
