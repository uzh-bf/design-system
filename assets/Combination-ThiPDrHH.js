import{r as a,_ as J}from"./index-IQZlS5KY.js";import{b as ee,a as te}from"./index-03E93yg5.js";import{c as D}from"./index-_FgKj8mU.js";import{c as re,_ as ne,u as ae,a as R,f as oe,z as ce,s as ue,b as le,R as se,e as ie}from"./component-DWveACCy.js";let A=0;function xe(){a.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:U()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:U()),A++,()=>{A===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(c=>c.remove()),A--}},[])}function U(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const x="focusScope.autoFocusOnMount",M="focusScope.autoFocusOnUnmount",W={bubbles:!1,cancelable:!0},Me=a.forwardRef((e,t)=>{const{loop:r=!1,trapped:c=!1,onMountAutoFocus:d,onUnmountAutoFocus:h,...b}=e,[o,$]=a.useState(null),E=D(d),S=D(h),g=a.useRef(null),y=ee(t,n=>$(n)),v=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(c){let n=function(i){if(v.paused||!o)return;const s=i.target;o.contains(s)?g.current=s:p(g.current,{select:!0})},u=function(i){if(v.paused||!o)return;const s=i.relatedTarget;s!==null&&(o.contains(s)||p(g.current,{select:!0}))},l=function(i){const s=document.activeElement;for(const f of i)f.removedNodes.length>0&&(o!=null&&o.contains(s)||p(o))};document.addEventListener("focusin",n),document.addEventListener("focusout",u);const m=new MutationObserver(l);return o&&m.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",n),document.removeEventListener("focusout",u),m.disconnect()}}},[c,o,v.paused]),a.useEffect(()=>{if(o){K.add(v);const n=document.activeElement;if(!o.contains(n)){const l=new CustomEvent(x,W);o.addEventListener(x,E),o.dispatchEvent(l),l.defaultPrevented||(de(be(G(o)),{select:!0}),document.activeElement===n&&p(o))}return()=>{o.removeEventListener(x,E),setTimeout(()=>{const l=new CustomEvent(M,W);o.addEventListener(M,S),o.dispatchEvent(l),l.defaultPrevented||p(n??document.body,{select:!0}),o.removeEventListener(M,S),K.remove(v)},0)}}},[o,E,S,v]);const C=a.useCallback(n=>{if(!r&&!c||v.paused)return;const u=n.key==="Tab"&&!n.altKey&&!n.ctrlKey&&!n.metaKey,l=document.activeElement;if(u&&l){const m=n.currentTarget,[i,s]=fe(m);i&&s?!n.shiftKey&&l===s?(n.preventDefault(),r&&p(i,{select:!0})):n.shiftKey&&l===i&&(n.preventDefault(),r&&p(s,{select:!0})):l===m&&n.preventDefault()}},[r,c,v.paused]);return a.createElement(te.div,J({tabIndex:-1},b,{ref:y,onKeyDown:C}))});function de(e,{select:t=!1}={}){const r=document.activeElement;for(const c of e)if(p(c,{select:t}),document.activeElement!==r)return}function fe(e){const t=G(e),r=H(t,e),c=H(t.reverse(),e);return[r,c]}function G(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:c=>{const d=c.tagName==="INPUT"&&c.type==="hidden";return c.disabled||c.hidden||d?NodeFilter.FILTER_SKIP:c.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function H(e,t){for(const r of e)if(!ve(r,{upTo:t}))return r}function ve(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function me(e){return e instanceof HTMLInputElement&&"select"in e}function p(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&me(e)&&t&&e.select()}}const K=he();function he(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=X(e,t),e.unshift(t)},remove(t){var r;e=X(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function X(e,t){const r=[...e],c=r.indexOf(t);return c!==-1&&r.splice(c,1),r}function be(e){return e.filter(t=>t.tagName!=="A")}var j=re(),O=function(){},P=a.forwardRef(function(e,t){var r=a.useRef(null),c=a.useState({onScrollCapture:O,onWheelCapture:O,onTouchMoveCapture:O}),d=c[0],h=c[1],b=e.forwardProps,o=e.children,$=e.className,E=e.removeScrollBar,S=e.enabled,g=e.shards,y=e.sideCar,v=e.noIsolation,C=e.inert,n=e.allowPinchZoom,u=e.as,l=u===void 0?"div":u,m=ne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),i=y,s=ae([r,t]),f=R(R({},m),d);return a.createElement(a.Fragment,null,S&&a.createElement(i,{sideCar:j,removeScrollBar:E,shards:g,noIsolation:v,inert:C,setCallbacks:h,allowPinchZoom:!!n,lockRef:r}),b?a.cloneElement(a.Children.only(o),R(R({},f),{ref:s})):a.createElement(l,R({},f,{className:$,ref:s}),o))});P.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};P.classNames={fullWidth:oe,zeroRight:ce};var B=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return B=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{B=!1}var w=B?{passive:!1}:!1,Ee=function(e){return e.tagName==="TEXTAREA"},z=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ee(e)&&r[t]==="visible")},$e=function(e){return z(e,"overflowY")},Se=function(e){return z(e,"overflowX")},Y=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var c=q(e,r);if(c){var d=Q(e,r),h=d[1],b=d[2];if(h>b)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ge=function(e){var t=e.scrollTop,r=e.scrollHeight,c=e.clientHeight;return[t,r,c]},Ce=function(e){var t=e.scrollLeft,r=e.scrollWidth,c=e.clientWidth;return[t,r,c]},q=function(e,t){return e==="v"?$e(t):Se(t)},Q=function(e,t){return e==="v"?ge(t):Ce(t)},ye=function(e,t){return e==="h"&&t==="rtl"?-1:1},pe=function(e,t,r,c,d){var h=ye(e,window.getComputedStyle(t).direction),b=h*c,o=r.target,$=t.contains(o),E=!1,S=b>0,g=0,y=0;do{var v=Q(e,o),C=v[0],n=v[1],u=v[2],l=n-u-h*C;(C||l)&&q(e,o)&&(g+=l,y+=C),o=o.parentNode}while(!$&&o!==document.body||$&&(t.contains(o)||t===o));return(S&&(g===0||!d)||!S&&(y===0||!d))&&(E=!0),E},N=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},V=function(e){return[e.deltaX,e.deltaY]},Z=function(e){return e&&"current"in e?e.current:e},we=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Te=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Re=0,T=[];function Fe(e){var t=a.useRef([]),r=a.useRef([0,0]),c=a.useRef(),d=a.useState(Re++)[0],h=a.useState(function(){return ue()})[0],b=a.useRef(e);a.useEffect(function(){b.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(d));var n=le([e.lockRef.current],(e.shards||[]).map(Z),!0).filter(Boolean);return n.forEach(function(u){return u.classList.add("allow-interactivity-".concat(d))}),function(){document.body.classList.remove("block-interactivity-".concat(d)),n.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(d))})}}},[e.inert,e.lockRef.current,e.shards]);var o=a.useCallback(function(n,u){if("touches"in n&&n.touches.length===2)return!b.current.allowPinchZoom;var l=N(n),m=r.current,i="deltaX"in n?n.deltaX:m[0]-l[0],s="deltaY"in n?n.deltaY:m[1]-l[1],f,I=n.target,F=Math.abs(i)>Math.abs(s)?"h":"v";if("touches"in n&&F==="h"&&I.type==="range")return!1;var k=Y(F,I);if(!k)return!0;if(k?f=F:(f=F==="v"?"h":"v",k=Y(F,I)),!k)return!1;if(!c.current&&"changedTouches"in n&&(i||s)&&(c.current=f),!f)return!0;var _=c.current||f;return pe(_,u,n,_==="h"?i:s,!0)},[]),$=a.useCallback(function(n){var u=n;if(!(!T.length||T[T.length-1]!==h)){var l="deltaY"in u?V(u):N(u),m=t.current.filter(function(f){return f.name===u.type&&f.target===u.target&&we(f.delta,l)})[0];if(m&&m.should){u.cancelable&&u.preventDefault();return}if(!m){var i=(b.current.shards||[]).map(Z).filter(Boolean).filter(function(f){return f.contains(u.target)}),s=i.length>0?o(u,i[0]):!b.current.noIsolation;s&&u.cancelable&&u.preventDefault()}}},[]),E=a.useCallback(function(n,u,l,m){var i={name:n,delta:u,target:l,should:m};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(s){return s!==i})},1)},[]),S=a.useCallback(function(n){r.current=N(n),c.current=void 0},[]),g=a.useCallback(function(n){E(n.type,V(n),n.target,o(n,e.lockRef.current))},[]),y=a.useCallback(function(n){E(n.type,N(n),n.target,o(n,e.lockRef.current))},[]);a.useEffect(function(){return T.push(h),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",$,w),document.addEventListener("touchmove",$,w),document.addEventListener("touchstart",S,w),function(){T=T.filter(function(n){return n!==h}),document.removeEventListener("wheel",$,w),document.removeEventListener("touchmove",$,w),document.removeEventListener("touchstart",S,w)}},[]);var v=e.removeScrollBar,C=e.inert;return a.createElement(a.Fragment,null,C?a.createElement(h,{styles:Te(d)}):null,v?a.createElement(se,{gapMode:"margin"}):null)}const ke=ie(j,Fe);var Le=a.forwardRef(function(e,t){return a.createElement(P,R({},e,{ref:t,sideCar:ke}))});Le.classNames=P.classNames;export{xe as $,Le as R,Me as a};
