import{r as s,j as l}from"./index-B54GXRha.js";import{u as D}from"./index-CHtxFuGM.js";import{c as N}from"./index-CN81SWrN.js";import{u as B,c as y,P as M}from"./index-DeLbFEyJ.js";import{u as O}from"./index-BohoYjDP.js";import{u as A}from"./index-CApH54nS.js";import{P as R}from"./index-CV9YFJQR.js";var v="Checkbox",[H,U]=N(v),[K,L]=H(v),I=s.forwardRef((e,p)=>{const{__scopeCheckbox:t,name:c,checked:f,defaultChecked:n,required:m,disabled:i,value:d="on",onCheckedChange:C,...E}=e,[r,b]=s.useState(null),w=D(p,o=>b(o)),k=s.useRef(!1),P=r?!!r.closest("form"):!0,[u=!1,x]=B({prop:f,defaultProp:n,onChange:C}),_=s.useRef(u);return s.useEffect(()=>{const o=r==null?void 0:r.form;if(o){const h=()=>x(_.current);return o.addEventListener("reset",h),()=>o.removeEventListener("reset",h)}},[r,x]),l.jsxs(K,{scope:t,state:u,disabled:i,children:[l.jsx(R.button,{type:"button",role:"checkbox","aria-checked":a(u)?"mixed":u,"aria-required":m,"data-state":g(u),"data-disabled":i?"":void 0,disabled:i,value:d,...E,ref:w,onKeyDown:y(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:y(e.onClick,o=>{x(h=>a(h)?!0:!h),P&&(k.current=o.isPropagationStopped(),k.current||o.stopPropagation())})}),P&&l.jsx(q,{control:r,bubbles:!k.current,name:c,value:d,checked:u,required:m,disabled:i,style:{transform:"translateX(-100%)"}})]})});I.displayName=v;var S="CheckboxIndicator",j=s.forwardRef((e,p)=>{const{__scopeCheckbox:t,forceMount:c,...f}=e,n=L(S,t);return l.jsx(M,{present:c||a(n.state)||n.state===!0,children:l.jsx(R.span,{"data-state":g(n.state),"data-disabled":n.disabled?"":void 0,...f,ref:p,style:{pointerEvents:"none",...e.style}})})});j.displayName=S;var q=e=>{const{control:p,checked:t,bubbles:c=!0,...f}=e,n=s.useRef(null),m=O(t),i=A(p);return s.useEffect(()=>{const d=n.current,C=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(C,"checked").set;if(m!==t&&r){const b=new Event("click",{bubbles:c});d.indeterminate=a(t),r.call(d,a(t)?!1:t),d.dispatchEvent(b)}},[m,t,c]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a(t)?!1:t,...f,tabIndex:-1,ref:n,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function a(e){return e==="indeterminate"}function g(e){return a(e)?"indeterminate":e?"checked":"unchecked"}var V=I,W=j;export{j as C,W as I,V as R};
