import { Button } from './Button'
import { Popover, PopoverContent, PopoverTrigger } from './Popover'
import { ShadcnLabel } from './ShadcnLabel'
import { Input } from './ui/input'

{/* START README */}
The `Popover` component provides floating content containers that appear near trigger elements without disrupting the main interface flow. It's perfect for displaying contextual information, forms, or actions that don't require full modal behavior.

Use this component when you need to:

- Display additional information or controls near specific elements
- Create floating forms or input panels
- Show contextual help or tooltips with rich content
- Provide secondary actions without navigation

The popover automatically positions itself to stay within viewport bounds, supports controlled and uncontrolled modes, and includes proper focus management and keyboard interactions.
{/* END README */}

{/\*
AI_DOCUMENTATION_START

Technical Overview: Shadcn UI re-export built on Radix UI's Popover primitive with portal rendering and positioning
Dependencies: @radix-ui/react-popover

Available Stories:

- Default: Dimensions form popover with input fields and grid layout

Props (Popover component):

- open: boolean - Controlled open state
- defaultOpen: boolean - Initial open state
- onOpenChange: (open: boolean) => void - Open state change handler
- modal: boolean - Whether popover is modal (default: false)

Component Structure:

- Popover: Root container managing popover state (re-export from ui/popover)
- PopoverTrigger: Element that triggers the popover (usually a button)
- PopoverContent: Floating content container with positioning logic
- PopoverAnchor: Optional anchor element for positioning (rare)

Usage Examples:

```tsx
// Basic info popover
<Popover>
  <PopoverTrigger asChild>
    <Button variant="outline">More info</Button>
  </PopoverTrigger>
  <PopoverContent className="w-80">
    <div className="space-y-2">
      <h4 className="font-medium">Additional Information</h4>
      <p className="text-sm text-muted-foreground">
        This provides extra context without leaving the current page.
      </p>
    </div>
  </PopoverContent>
</Popover>

// Form popover
<Popover>
  <PopoverTrigger asChild>
    <Button>Quick Edit</Button>
  </PopoverTrigger>
  <PopoverContent className="w-96">
    <form className="space-y-4">
      <div>
        <Label htmlFor="name">Name</Label>
        <Input id="name" placeholder="Enter name" />
      </div>
      <div>
        <Label htmlFor="email">Email</Label>
        <Input id="email" type="email" placeholder="Enter email" />
      </div>
      <Button type="submit" className="w-full">Save</Button>
    </form>
  </PopoverContent>
</Popover>

// Controlled popover
const [open, setOpen] = useState(false)
<Popover open={open} onOpenChange={setOpen}>
  <PopoverTrigger asChild>
    <Button>Settings</Button>
  </PopoverTrigger>
  <PopoverContent>
    <div className="space-y-2">
      <Switch id="notifications" />
      <Label htmlFor="notifications">Enable notifications</Label>
    </div>
  </PopoverContent>
</Popover>
```

Related Components:

- Tooltip: For simple text-only hover content
- Modal: For content that requires full attention
- ContextMenu: For right-click triggered content
- HoverCard: For hover-triggered rich content

AI_DOCUMENTATION_END
\*/}

export const Default = () => {
  return (
    <Popover>
      <PopoverTrigger asChild>
        <Button variant="outline">Open popover</Button>
      </PopoverTrigger>
      <PopoverContent className="w-80">
        <div className="grid gap-4">
          <div className="space-y-2">
            <h4 className="leading-none font-medium">Dimensions</h4>
            <p className="text-muted-foreground text-sm">
              Set the dimensions for the layer.
            </p>
          </div>
          <div className="grid gap-2">
            <div className="grid grid-cols-3 items-center gap-4">
              <ShadcnLabel htmlFor="width">Width</ShadcnLabel>
              <Input
                id="width"
                defaultValue="100%"
                className="col-span-2 h-8"
              />
            </div>
            <div className="grid grid-cols-3 items-center gap-4">
              <ShadcnLabel htmlFor="maxWidth">Max. width</ShadcnLabel>
              <Input
                id="maxWidth"
                defaultValue="300px"
                className="col-span-2 h-8"
              />
            </div>
            <div className="grid grid-cols-3 items-center gap-4">
              <ShadcnLabel htmlFor="height">Height</ShadcnLabel>
              <Input
                id="height"
                defaultValue="25px"
                className="col-span-2 h-8"
              />
            </div>
            <div className="grid grid-cols-3 items-center gap-4">
              <ShadcnLabel htmlFor="maxHeight">Max. height</ShadcnLabel>
              <Input
                id="maxHeight"
                defaultValue="none"
                className="col-span-2 h-8"
              />
            </div>
          </div>
        </div>
      </PopoverContent>
    </Popover>
  )
}
