import {
  faCheck,
  faCheckDouble,
  faInbox,
  faX,
} from '@fortawesome/free-solid-svg-icons'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { useState } from 'react'
import StepProgress from './StepProgress'
import { stepProgressStatusItems } from './values'

{/* START README */}

The StepProgress component is a custom-built progress component that contains a series of steps that can be clicked to navigate through a process. It is designed to visually represent the progress of a task or workflow, allowing users to see their current position, a status of a specific step, and navigate to other steps if needed.

<br />

The StepProgress component accepts the following props:

- @param id - The id of the progress bar.
- @param data - The object of data attributes that can be used for testing (e.g. data-test or data-cy)
- @param value - The value of the progress bar. The value should be between 0 and an optionally provided max value.
- @param max - The maximum value of the progress bar.
- @param items - The array of items that are displayed in the step progress bar.
- @param onItemClick - The function that is called when an item is clicked.
- @param displayOffsetLeft - The number that determines the maximum number of elements that are shown to the left of the current value on the step progress bar.
- @param displayOffsetRight - The number that determines the maximum number of elements that are shown to the right of the current value on the step progress bar.
- @param className - The optional className object allows you to override the default styling.
- @param formatter - The optional formatter function allows you to override the rendering of each item.

{/* END README */}

export const Default = () => {
  const [value, setValue] = useState(5)

return (

<StepProgress value={value} onItemClick={(val) => setValue(val)} max={20} />) }

export const WithOffset = () => {
  const [value, setValue] = useState(0)

return (

<StepProgress
  value={value}
  max={20}
  displayOffsetLeft={7}
  displayOffsetRight={7}
  onItemClick={(val) => setValue(val)}
/>
) }

export const Status = () => {
  const [value, setValue] = useState(6)

return (

<StepProgress
  value={value}
  onItemClick={(val, item) => {
    alert('Element that is being activated has id: ' + item?.id)
    setValue(val)
  }}
  items={stepProgressStatusItems}
/>
) }

export const StatusOffset = () => {
  const [value, setValue] = useState(6)

return (

<StepProgress
  value={value}
  onItemClick={(val) => {
    setValue(val)
  }}
  items={stepProgressStatusItems}
  displayOffsetLeft={2}
  displayOffsetRight={2}
/>
) }

export const AsymmetricOffset = () => {
  const [value, setValue] = useState(5)
  const [value2, setValue2] = useState(2)
  return (
    <div className="flex flex-col gap-4">
      <div>
        This demo contains two examples with asymchronous offset, one with 3
        elements to the left and zero to the right and the second one with 1
        element to the left and 5 to the right
      </div>
      <StepProgress
        value={value}
        onItemClick={(val) => {
          setValue(val)
        }}
        items={stepProgressStatusItems}
        displayOffsetLeft={3}
        displayOffsetRight={0}
      />
      <StepProgress
        value={value2}
        onItemClick={(val) => {
          setValue2(val)
        }}
        items={stepProgressStatusItems}
        displayOffsetLeft={1}
        displayOffsetRight={5}
      />
    </div>
  )
}

export const CustomFormatter = () => {
  const [value, setValue] = useState(6)

return (

<StepProgress
value={value}
onItemClick={(val, item) => {
alert('Element that is being activated has id: ' + item?.id)
setValue(val)
}}
items={stepProgressStatusItems}
formatter={({ element, ix }) => {
function render({ element }) {
return (
<div className="flex w-full flex-row items-center justify-between px-2">
<div>{ix + 1}</div>
{typeof element.points !== 'undefined' &&
typeof element.maxPoints !== 'undefined' && (
<div>
{element.points}/{element.maxPoints} P
</div>
)}
<FontAwesomeIcon
icon={{
correct: faCheckDouble,
incorrect: faX,
partial: faCheck,
unanswered: faInbox,
}[element.status ?? 'unanswered']}
/>
</div>
)
}

        if (element.status === 'correct') {
          return render({
            element,
          })
        }

        if (element.status === 'incorrect') {
          return render({
            element,
          })
        }

        if (element.status === 'partial') {
          return render({
            element,
          })
        }

        return render({
          element,
        })
      }}
    />

)
}
