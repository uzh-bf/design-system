import UserNotification from './UserNotification'
import { useState } from 'react'

{/* START README */}
<div className="prose prose-sm max-w-none">
The `UserNotification` component provides contextual feedback to users through styled notification messages with appropriate icons and color-coded styling. It supports different notification types for various user interaction scenarios.

Use this component when you need to:

- Display success, error, warning, or informational messages to users
- Provide feedback after user actions (form submission, data changes, etc.)
- Show system status updates or alerts
- Present contextual information with appropriate visual styling
- Create consistent notification experiences across your application

The component automatically applies appropriate icons and styling based on the notification type, supports both message text and custom React content, and provides comprehensive styling customization options.

The UserNotification component accepts the following props:

- @param id - The id of the notification.
- @param data - The object of data attributes that can be used for testing (e.g. data-test or data-cy)
- @param message - The message that is displayed in the notification.
- @param type - The type of the notification. This can be either 'success', 'info' or 'error'. This determines the icon that is displayed and some conditional styling. If not type is provided, the information icon is displayed.
- @param children - The optional children are displayed in the notification in addition to the provided message icon.
- @param className - The optional className object allows you to override the default styling.
- @param dismissible - If true, shows an X button in the top-right.
- @param hidden - If true, hides the notification (useful with dismissible).
- @param onDismiss - Callback when the X button is clicked.
</div>
{/* END README */}

{/*
AI_DOCUMENTATION_START

Technical Overview: Contextual notification component with type-based styling, icon selection, and flexible content support for user feedback scenarios

Dependencies:

- React for component rendering
- FontAwesome icons (or similar icon library)
- Tailwind CSS for styling and color variants
- Type-based conditional styling system

Available Stories:

- Default: Basic notification without specific type
- Success: Success state with checkmark icon and green styling
- Warning: Warning state with warning icon and yellow styling
- Error: Error state with error icon and red styling
- Info: Information state with info icon and blue styling
- CustomContent: Rich content with React nodes instead of simple message
- Styled: Custom styling overrides demonstration

Props (UserNotification component):

- id?: string - HTML id attribute for the notification
- data?: Record<string, string> - Data attributes for testing purposes
- message?: string - Primary message text to display
- type?: 'success' | 'warning' | 'error' | 'info' | 'default' - Notification type determining icon and styling
- children?: React.ReactNode - Additional content displayed below message
- className?: {
  root?: string,
  icon?: string,
  message?: string,
  content?: string
  } - Styling overrides for different parts

Component Structure:

- Root container with type-based background and border styling
- Icon section with contextual icon based on type
- Message section for primary text
- Optional content section for additional information
- Responsive layout with proper spacing

Type-Based Styling:

- success: Green color scheme with checkmark icon
- warning: Yellow/orange color scheme with warning icon
- error: Red color scheme with error icon
- info: Blue color scheme with information icon
- default: Neutral gray scheme with default icon

Usage Examples:

```tsx
// Success notification
<UserNotification
  type="success"
  message="Your changes have been saved successfully!"
/>

// Error with additional content
<UserNotification
  type="error"
  message="Failed to save changes"
>
  <div>
    <p>Please check the following:</p>
    <ul>
      <li>Internet connection</li>
      <li>Required fields</li>
    </ul>
  </div>
</UserNotification>

// Warning notification
<UserNotification
  type="warning"
  message="This action cannot be undone"
>
  <p>Please confirm you want to proceed with deletion.</p>
</UserNotification>

// Info notification
<UserNotification
  type="info"
  message="New features are available"
>
  <a href="/changelog" className="text-blue-600 underline">
    View changelog
  </a>
</UserNotification>

// Custom styled notification
<UserNotification
  type="success"
  message="Operation completed"
  className={{
    root: 'border-2 shadow-lg',
    icon: 'text-2xl',
    message: 'font-bold text-lg',
    content: 'mt-3 p-3 bg-green-50 rounded'
  }}
>
  <div>Additional details about the operation...</div>
</UserNotification>

// Rich content notification
<UserNotification type="info">
  <div>
    <h3 className="font-semibold mb-2">System Maintenance</h3>
    <p>Scheduled maintenance will occur on:</p>
    <ul className="list-disc list-inside mt-2">
      <li>Date: March 15, 2024</li>
      <li>Time: 2:00 AM - 4:00 AM UTC</li>
      <li>Expected downtime: 2 hours</li>
    </ul>
  </div>
</UserNotification>
```

Accessibility Features:

- Semantic HTML structure
- Appropriate color contrast ratios
- Screen reader compatible
- Keyboard navigation support
- ARIA attributes for screen readers

Best Practices:

- Use appropriate notification types for context
- Keep messages concise and actionable
- Include additional details in children when needed
- Consider auto-dismiss for non-critical notifications
- Group related notifications to avoid notification fatigue

Common Patterns:

```tsx
// Form validation feedback
<UserNotification
  type="error"
  message="Please fix the following errors:"
>
  <ul>
    {errors.map(error => <li key={error.field}>{error.message}</li>)}
  </ul>
</UserNotification>

// Action confirmation
<UserNotification
  type="success"
  message="Account created successfully!"
>
  <p>
    A confirmation email has been sent to your inbox.
  </p>
</UserNotification>

// System status
<UserNotification
  type="warning"
  message="Limited functionality available"
>
  <p>Some features may be temporarily unavailable during maintenance.</p>
</UserNotification>
```

Related Components:

- Toast: For temporary, auto-dismissing notifications
- Alert: For static alert messages
- Modal: For notifications requiring user interaction
- Banner: For site-wide announcements

AI_DOCUMENTATION_END
*/}

export const Default = () => {
  return (
    <UserNotification message="This is the default notif style when the provided type is not 'success', 'error', or 'info'" />
  )
}

export const Dismissible = () => {
  const [hidden, setHidden] = useState(false)

  return (
    <div>
      <UserNotification 
        dismissible
        hidden={hidden}
        onDismiss={() => setHidden(true)}
        message="This is the default notif style when the provided type is not 'success', 'error', or 'info'" 
      />
      {hidden && (
        <button onClick={() => setHidden(false)}>
          Show notification again
        </button>
      )}
    </div>
  )
}

export const Success = () => {
  return (
    <UserNotification
      type="success"
      message="You have been registered successfully"
    >
      Content
    </UserNotification>
  )
}

export const Warning = () => {
  return (
    <UserNotification
      type="warning"
      message="You are about to create a new account with a different email address."
    >
      Content
    </UserNotification>
  )
}

export const Error = () => {
  return (
    <UserNotification
      type="error"
      message="An error occurred during registration"
    >
      Content
    </UserNotification>
  )
}

export const Info = () => {
  return (
    <UserNotification
      type="info"
      message="There are five more places available"
    >
      Content
    </UserNotification>
  )
}

export const CustomContent = () => {
  return (
    <div>
      <div>
        It is also possible to only provide children to the notification
        component, if not message text is available or if the content has to be
        passed as a React node.
      </div>
      <UserNotification type="info">
        <div>
          <strong>This content is passed as a separate node</strong>
          <div>Contains multiple lines</div>
        </div>
      </UserNotification>
    </div>
  )
}

export const Styled = () => {
  return (
    <UserNotification
      type="default"
      message="This is a notification with default type but added custom styling"
      className={{
        root: 'gap-4 text-lg',
        content: 'text-base text-red-400 italic',
        icon: 'text-blue-500',
        message: 'text-green-500',
      }}
    >
      The content of the notification can be styled as well and used to display
      more detailed information regarding the notification.
    </UserNotification>
  )
}
